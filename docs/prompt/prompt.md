# OPUS プロンプトドキュメント

本ドキュメントは、AIエージェント（主にLLM）への指示（プロンプト）を整理し、開発チーム内で確実に共有するための指針を示しています。  
要件定義や実装計画、テスト仕様などの情報を、AIに適切に伝達するために活用してください。

---

## <目的>
AIエージェントへのプロンプト作成において、以下をゴールとします。  
1. システムや要件、仕様に関する情報を正確に共有し、不要な誤読を防ぐ。  
2. 入力(プロンプト)を工夫して、出力(回答)の品質・再現性を高める。  
3. 発案者・アーキテクト/PM・AIエージェントの3名が共通認識を持てる形式を用意する。

---

## <AIへの基本指示>
- 回答は日本語で行い、カジュアルながらも論理的なトーンを推奨。  
- 不確実な情報や推測での断定は避け、確証がない場合は正直にそう伝える。  
- プロンプト内で参照される文書（例: <req_def.md> や <test-guide.md>など）があれば、  
  要点や対象部分を確認しながら出力内容に反映する。  
- 要求や要件が相反すると感じる場合は、作業を中断し、チームにエスカレーションを行うこと。

---

## <タグ活用のガイドライン>
プロンプト内で以下のようなタグを使い、AIに具体的な指示を与える形式を推奨します:

1. <context>  
   - AIが参照すべき文脈や背景情報をまとめる。  
   - 例: <context>仕入明細書の承認プロセスを新バージョンでどう変えるか検討中</context>

2. <need>  
   - AIに求める成果物やアクションを簡潔に書く。  
   - 例: <need>req_def.mdに追加記載する新たな仕様を列挙して</need>

3. <constraint>  
   - 出力フォーマットや機密情報の扱い、記法のルールを指定する。  
   - 例: <constraint>コードブロックで行番号は付けないで</constraint>

4. <reference>  
   - 他ファイルやセクションへの参照を明示し、AIがすぐ飛べるようにする。  
   - 例: <reference path="docs/prompt/req_def.md" section="仕入明細書">ここに仕様がある</reference>

タグを明示することで、プロンプト全体の構造をハッキリさせ、AIがポイントを把握しやすくする狙いがあります。

---

## <他ドキュメントとの連携>
- <reference path="docs/prompt/req_def.md">: システムの機能要件、データ仕様を全体的に記述。  
- <reference path="docs/prompt/test-guide.md">: Cypressを用いたテスト運用に関するガイド。  
- <reference path="docs/prompt/req_test.md">: テスト要件で、Cypress以外のフレームワークを厳禁としている公式仕様。  
- <reference path="docs/prompt/mvp_instructions.md">: MVP実装方針のまとめ。

必要に応じ、これらの文書から情報を引用・参照しながらAIに問いかけることで、回答の正確性・一貫性を高められます。

---

## <ラップアップ>
1. CI/CDやドキュメンテーション、ライブラリ選定などをAIに相談する際は、本ドキュメントのタグやルールをフル活用し、明快なプロンプトを作成する。  
2. 本ドキュメントはあくまで「プロンプト組み立てガイド」であり、将来的に仕様変更があれば柔軟にアップデート可能。  
3. 質問・回答は常に意図を明確化し、チーム全体でフィードバックを行いながらプロジェクトを前進させよう。

